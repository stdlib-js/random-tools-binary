// Copyright (c) 2025 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import e from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-nonenumerable-read-only-property@v0.2.1-esm/index.mjs";import{primitives as t}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-nonnegative-integer-array@v0.2.2-esm/index.mjs";import r from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-empty-collection@v0.2.2-esm/index.mjs";import s from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-ndarray-like@v0.2.2-esm/index.mjs";import{isPrimitive as n}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-number@v0.2.2-esm/index.mjs";import i from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-function@v0.2.2-esm/index.mjs";import d from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-complex-like@v0.2.2-esm/index.mjs";import o from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-plain-object@v0.2.2-esm/index.mjs";import a from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-object@v0.2.2-esm/index.mjs";import m from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-collection@v0.2.2-esm/index.mjs";import l from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-assert-is-data-type@v0.2.2-esm/index.mjs";import p from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-assert-is-output-data-type-policy@esm/index.mjs";import h from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-assert-is-read-only@v0.2.2-esm/index.mjs";import j from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-assert-is-order@v0.2.2-esm/index.mjs";import y from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-has-own-property@v0.2.2-esm/index.mjs";import v from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-assert-contains@v0.2.2-esm/index.mjs";import u from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-filled-by@v0.2.2-esm/index.mjs";import f from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-every-by@v0.2.2-esm/index.mjs";import c from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-join@v0.1.1-esm/index.mjs";import g from"https://cdn.jsdelivr.net/gh/stdlib-js/strided-base-nullary@v0.3.0-esm/index.mjs";import b from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-binary@esm/index.mjs";import x from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-maybe-broadcast-array@v0.2.3-esm/index.mjs";import w from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-broadcast-scalar@v0.2.2-esm/index.mjs";import T from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-shape2strides@v0.2.2-esm/index.mjs";import E from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-binary-output-dtype@esm/index.mjs";import _ from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-numel@v0.2.2-esm/index.mjs";import V from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-buffer@v0.3.0-esm/index.mjs";import k from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-shape@v0.2.2-esm/index.mjs";import D from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-dtype@v0.2.2-esm/index.mjs";import S from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-order@v0.2.2-esm/index.mjs";import F from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-ndims@v0.2.2-esm/index.mjs";import L from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-ctor@v0.2.2-esm/index.mjs";import O from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-defaults@v0.3.0-esm/index.mjs";import q from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-assert-is-accessor-array@v0.2.2-esm/index.mjs";import z from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-accessor-setter@v0.2.2-esm/index.mjs";import A from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-setter@v0.2.2-esm/index.mjs";import B from"https://cdn.jsdelivr.net/gh/stdlib-js/error-tools-fmtprodmsg@v0.2.2-esm/index.mjs";var C=["First","Second","Third"];function G(e,t,r,s,n){var d,h;if(!(this instanceof G))return arguments.length<5?new G(e,t,r,s):new G(e,t,r,s,n);if(!i(e))throw new TypeError(B("null3c",e));if(!m(t))throw new TypeError(B("null2y",t));for(h=0;h<t.length;h++)if(!m(t[h])||t[h].length<1||!f(t[h],l))throw new TypeError(B("invalid argument. Second argument must contain arrays of data types. Value: `%s`.",t));if(!m(r)||r.length<1||!f(r,l))throw new TypeError(B("invalid argument. Third argument must be an array of data types. Value: `%s`.",r));if(!a(s))throw new TypeError(B("null43",s));if(!p(s.output))throw new TypeError(B("invalid argument. Fourth argument must be an object having a supported output data type policy. Value: `%s`.",s.output));if(d={order:O.get("order")},arguments.length>4){if(!o(n))throw new TypeError(B("null2V",n));if(y(n,"order")&&(d.order=n.order,!j(d.order)))throw new TypeError(B("invalid option. `%s` option must be a valid memory layout. Option: `%s`.","order",d.order))}return this._prng=e,this._idtypes=t,this._odtypes=r,this._policies={output:s.output},this._opts=d,this}e(G.prototype,"generate",(function(e,i,a,m){var l,p,h,j,f,k,O,G,H,I,J,K,M,N;if(!t(e)&&!r(e))throw new TypeError(B("null5o",e));if(h={},arguments.length>3&&(f=function(e,t,r){return o(r)?y(r,"dtype")&&(e.dtype=r.dtype,!v(t,e.dtype))?new TypeError(B("null4S","dtype",c(t,'", "'),e.dtype)):(y(r,"order")&&(e.order=r.order),y(r,"mode")&&(e.mode=r.mode),y(r,"submode")&&(e.submode=r.submode),y(r,"readonly")&&(e.readonly=r.readonly),null):new TypeError(B("null2V",r))}(h,this._odtypes,m),f))throw f;for(l=function(e){var t,r,i,o;for(t=[],o=0;o<e.length;o++)i={scalar:!0,value:r=e[o],dtype:"",ndims:0,order:""},n(r)?i.dtype="float64":d(r)?8===r.byteLength?i.dtype="complex64":i.dtype="complex128":s(r)?(i.scalar=!1,i.dtype=D(r),i.ndims=F(r),i.order=S(r)):i.dtype="generic",t.push(i);return t}([i,a]),N=0;N<l.length;N++)if(I=l[N].dtype,!v(this._idtypes[N],I))throw new TypeError(B('invalid argument. %s argument must have one of the following data types: "%s". Data type: `%s`.',C[N+1],c(this._idtypes[N],'", "'),I));return G=function(e){var t,r,s;for(t=0,s=0;s<e.length;s++)((r=e[s]).scalar||0===r.ndims)&&(t+=1);return t===e.length}(l),l=G?function(e){var t,r;for(r=0;r<e.length;r++)!1===(t=e[r]).scalar&&(t.scalar=!0,t.value=t.value.get(),t.ndims=0,t.order="");return e}(l):function(e,t){var r,s,n;for(r=function(e){var t,r;for(r=0;r<e.length&&!1!==(t=e[r]).scalar;r++);return t.order}(t),n=0;n<t.length;n++)(s=t[n]).scalar?(s.scalar=!1,s.value=w(s.value,s.dtype,e,r),s.order=r):s.value=x(s.value,e),s.ndims=e.length;return t}(e,l),K=l[0],M=l[1],p=this._prng,I=h.dtype||E(K.dtype,M.dtype,this._policies.output),O=h.order?h.order:G?this._opts.order:K.order,0===(k=_(e))?(0===e.length?(j=V(I,1),(q(j)?z(I):A(I))(j,0,p(K.value,M.value)),J=[0]):(j=V(I,k),J=T(e,O)),new L(I,j,e,J,0,O,h)):G?("generic"===I?j=u(k,P):(j=V(I,k),g([j],[k],[1],P)),J=T(e,O),new L(I,j,e,J,0,O,h)):(j=V(I,k),J=T(e,O),H=new L(I,j,e,J,0,O,h),b([K.value,M.value,H],p),H);function P(){return p(K.value,M.value)}})),e(G.prototype,"assign",(function(e,t,r){var i,o,a,m,l,p,j;if(!s(r))throw new TypeError(B("invalid argument. Third argument must be an ndarray-like object. Value: `%s`.",r));if(h(r))throw new Error(B("null1g"));if(l=k(r),m=S(r),a=D(r),!v(this._odtypes,a))throw new TypeError(B('invalid argument. %s argument must have one of the following data types: "%s". Data type: `%s`.',C[2],c(this._odtypes,'", "'),a));for(i=[e,t],j=0;j<i.length;j++){if(p=i[j],n(p)?p=w(p,o="float64",l,m):d(p)?(o=8===p.byteLength?"complex64":"complex128",p=w(p,o,l,m)):s(p)?(o=D(p),p=x(p,l)):p=w(p,o="generic",l,m),!v(this._idtypes[j],o))throw new TypeError(B('invalid argument. %s argument must have one of the following data types: "%s". Data type: `%s`.',C[j],c(this._idtypes[j],'", "'),o));i[j]=p}return i.push(r),b(i,this._prng),r}));export{G as default};
//# sourceMappingURL=index.mjs.map
